DROP TABLE equipo;
DROP TABLE jugador;
DROP TABLE jugador_equipo;
DROP TABLE partido;

CREATE TABLE equipo 
(
    codigo INTEGER NOT NULL,
    Nombre VARCHAR NOT NULL,
    año_fundacion INTEGER NOT NULL,
    lugar_sede VARCHAR NOT NULL,
    estadio VARCHAR NOT NULL,
    socios_aficionados INTEGER NOT NULL,
    PRIMARY KEY(codigo autoincrement)
);

CREATE TABLE jugador
(
    codigo INTEGER NOT NULL,
    nombre VARCHAR NOT NULL,
    fecha_nacimiento VARCHAR NOT NULL,
    nacionalidad VARCHAR NOT NULL,
    posicion VARCHAR NOT NULL,
		PRIMARY KEY(codigo AUTOINCREMENT)
);

CREATE TABLE jugador_equipo
(
    codigo_equipo INTEGER NOT NULL,
    codigo_jugador INTEGER NOT NULL,
    año_entrada INTEGER NOT NULL,
    año_salida INTEGER,
    partidos_titular INTEGER,
    FOREIGN KEY (codigo_equipo) REFERENCES equipo(codigo),
    FOREIGN KEY (codigo_jugador) REFERENCES jugador(codigo),
    PRIMARY KEY(codigo_equipo, codigo_jugador)
);

CREATE TABLE partido
(
    codigo_equipo_local INTEGER NOT NULL,
    codigo_equipo_visitante INTEGER NOT NULL,
    año_temporada INTEGER NOT NULL,
    fecha VARCHAR NOT NULL,
    puntuacion_local INTEGER,
    puntuacion_visitante INTEGER,
    FOREIGN KEY (codigo_equipo_local) REFERENCES equipo(codigo),
    FOREIGN KEY (codigo_equipo_visitante) REFERENCES equipo(codigo),
    PRIMARY KEY(codigo_equipo_local, codigo_equipo_visitante, año_temporada)
);

-- INSERT EQUIPO
INSERT INTO equipo (codigo, Nombre, año_fundacion, lugar_sede, estadio, socios_aficionados) VALUES
(1, 'Real Madrid CF', 1902, 'Madrid', 'Santiago Bernabéu', 81044),
(2, 'FC Barcelona', 1899, 'Barcelona', 'Camp Nou', 99354),
(3, 'Manchester United FC', 1878, 'Manchester', 'Old Trafford', 74140),
(4, 'Liverpool FC', 1892, 'Liverpool', 'Anfield', 53394),
(5, 'FC Bayern Munich', 1900, 'Munich', 'Allianz Arena', 75000),
(6, 'Juventus FC', 1897, 'Turín', 'Allianz Stadium', 41507),
(7, 'Paris Saint-Germain FC', 1970, 'París', 'Parc des Princes', 47929),
(8, 'Chelsea FC', 1905, 'Londres', 'Stamford Bridge', 41837),
(9, 'Manchester City FC', 1880, 'Manchester', 'Etihad Stadium', 55017),
(10, 'AC Milan', 1899, 'Milán', 'San Siro', 80018),
(11, 'Real Madrid CF', 1902, 'Madrid', 'Santiago Bernabéu', 81044),
(12, 'Arsenal FC', 1886, 'Londres', 'Emirates Stadium', 60260),
(13, 'Tottenham Hotspur FC', 1882, 'Londres', 'Tottenham Hotspur Stadium', 62850),
(14, 'Borussia Dortmund', 1909, 'Dortmund', 'Signal Iduna Park', 81365),
(15, 'FC Internazionale Milano', 1908, 'Milán', 'San Siro', 80018),
(16, 'FC Schalke 04', 1904, 'Gelsenkirchen', 'Veltins-Arena', 62271),
(17, 'SSC Napoli', 1926, 'Nápoles', 'Stadio San Paolo', 60240),
(18, 'Olympique Lyonnais', 1950, 'Lyon', 'Groupama Stadium', 59186);

-- INSERT JUGADOR
INSERT INTO jugador (codigo, nombre, fecha_nacimiento, nacionalidad, posicion) VALUES
(1, "Lionel Messi", "24/06/1987", "Argentino", "Delantero"),
(2, "Gerard Piqué", "02/02/1987", "Español", "Defensa"),
(3, "Frenkie de Jong", "12/05/1997", "Holandés", "Medio"),
(4, "Jordi Alba", "21/03/1989", "Español", "Defensa"),
(5, "Antoine Griezmann", "21/03/1991", "Francés", "Delantero"),
(6, "Sergi Roberto", "07/02/1992", "Español", "Medio"),
(7, "Sergio Busquets", "16/07/1988", "Español", "Medio"),
(8, "Ansu Fati", "31/10/2002", "Español", "Delantero"),
(9, "Ousmane Dembélé", "15/05/1997", "Francés", "Delantero"),
(10, "Pedri", "25/11/2002", "Español", "Medio"),
(11, "Marc-André ter Stegen", "30/04/1992", "Alemán", "Portero"),
(12, "Ronald Araújo", "07/03/1999", "Uruguayo", "Defensa"),
(13, "Samuel Umtiti", "14/11/1993", "Francés", "Defensa"),
(14, "Miralem Pjanic", "02/04/1990", "Bosnio", "Medio"),
(15, "Martin Braithwaite", "05/06/1991", "Danés", "Delantero"),
(16, "Neto", "19/07/1989", "Brasileño", "Portero"),
(17, "Emerson Royal", "14/01/1999", "Brasileño", "Defensa"),
(18, "Pedro González López", "25/06/1998", "Español", "Medio"),
(19, "Philippe Coutinho", "12/06/1992", "Brasileño", "Medio"),
(20, "Ilaix Moriba", "19/01/2003", "Guineano", "Medio"),
(21, "Riqui Puig", "13/08/1999", "Español", "Medio"),
(22, "Clément Lenglet", "17/06/1995", "Francés", "Defensa"),
(23, "Alex Collado", "22/04/1999", "Español", "Medio"),
(24, "Moussa Wagué", "04/10/1998", "Senegalés", "Defensa"),
(25, "Emre Demir", "25/01/2004", "Turco", "Delantero"),
(26, "Thibaut Courtois", "11/05/1992", "Belga", "Portero"),
(27, "Daniel Carvajal", "11/01/1992", "Español", "Defensa"),
(28, "Éder Militão", "18/01/1998", "Brasileño", "Defensa"),
(29, "Sergio Ramos", "30/03/1986", "Español", "Defensa"),
(30, "Raphaël Varane", "25/04/1993", "Francés", "Defensa"),
(31, "Nacho Fernández", "18/01/1990", "Español", "Defensa"),
(32, "Eden Hazard", "07/01/1991", "Belga", "Delantero"),
(33, "Toni Kroos", "04/01/1990", "Alemán", "Medio"),
(34, "Karim Benzema", "19/12/1987", "Francés", "Delantero"),
(35, "Luka Modric", "09/09/1985", "Croata", "Medio"),
(36, "Gareth Bale", "16/07/1989", "Galés", "Delantero"),
(37, "Marcelo", "12/05/1988", "Brasileño", "Defensa"),
(38, "Andriy Lunin", "11/02/1999", "Ucraniano", "Portero"),
(39, "Casemiro", "23/02/1992", "Brasileño", "Medio"),
(40, "Federico Valverde", "22/07/1998", "Uruguayo", "Medio"),
(41, "Rodrygo", "09/01/2001", "Brasileño", "Delantero"),
(42, "Lucas Vázquez", "01/07/1991", "Español", "Delantero"),
(43, "Vinícius Júnior", "12/07/2000", "Brasileño", "Delantero"),
(44, "Odriozola", "14/12/1995", "Español", "Defensa"),
(45, "Marco Asensio", "21/01/1996", "Español", "Delantero"),
(46, "Brahim Díaz", "03/08/1999", "Español", "Delantero"),
(47, "Isco", "21/04/1992", "Español", "Medio"),
(48, "Ferland Mendy", "08/06/1995", "Francés", "Defensa"),
(49, "Alphonse Areola", "27/02/1993", "Francés", "Portero"),
(50, "David Alaba", "24/06/1992", "Austríaco", "Defensa"),
(51, "Joaquin", "18/06/1978", "Español", "Defensa"),
(52, "David", "01/01/1990", "Inglés", "Medio"),
(53, "Luis", "14/05/1985", "Argentino", "Delantero"),
(54, "Marta", "20/08/1995", "Español", "Portero"),
(55, "Marcelo", "03/06/1988", "Brasileño", "Defensa");

-- INSERT JUGADOR_EQUIPO
INSERT INTO jugador_equipo (codigo_equipo, codigo_jugador, año_entrada, año_salida, partidos_titular) VALUES
(1, 1, 2009, 2018, 353),
(1, 2, 2005, 2019, 600),
(1, 3, 2013, 2022, 235),
(2, 4, 2007, 2019, 482),
(2, 5, 2004, 2021, 512),
(2, 6, 2014, 2021, 292),
(3, 7, 2004, 2021, 559),
(3, 8, 2011, 2021, 346),
(3, 9, 2010, 2021, 190),
(4, 10, 2018, 2021, 55),
(4, 11, 2015, 2021, 175),
(4, 12, 2016, 2021, 129),
(5, 13, 2007, 2021, 431),
(5, 14, 2007, 2021, 430),
(5, 15, 2020, 2021, 25),
(6, 16, 2001, 2021, 422),
(6, 17, 2005, 2021, 258),
(6, 18, 2019, 2021, 44),
(7, 19, 2011, 2021, 325),
(7, 20, 2013, 2021, 293),
(7, 21, 2017, 2021, 68),
(8, 22, 2005, 2021, 417),
(8, 23, 2012, 2021, 298),
(8, 24, 2017, 2021, 66),
(9, 25, 2011, 2021, 347),
(9, 26, 2010, 2021, 247),
(9, 27, 2018, 2021, 52),
(10, 28, 2019, 2021, 68),
(10, 29, 2020, 2021, 33),
(10, 30, 2020, 2021, 22),
(11, 31, 2018, 2021, 71),
(11, 32, 2019, 2021, 61),
(11, 33, 2020, 2021, 29),
(12, 34, 2015, 2021, 141),
(12, 35, 2016, 2021, 109),
(12, 36, 2016, 2021, 80),
(13, 37, 2013, 2021, 182),
(13, 38, 2015, 2021, 124),
(13, 39, 2010, 2015, 100),
(14, 40, 2015, NULL, 50),
(14, 41, 2020, NULL, 10),
(14, 42, 2012, 2017, 120),
(15, 43, 2018, NULL, 80),
(15, 44, 2021, NULL, 5),
(15, 45, 2014, 2019, 150),
(16, 46, 2019, NULL, 30),
(16, 47, 2022, NULL, 0),
(16, 48, 2016, 2021, 90),
(17, 49, 2021, NULL, 20),
(17, 50, 2022, NULL, 0),
(17, 51, 2017, 2022, 110),
(18, 52, 2022, NULL, 0),
(18, 53, 2022, NULL, 0),
(18, 54, 2015, 2020, 80),
(18, 55, 2020, NULL, 10);

-- INSERT PARTIDO
INSERT INTO partido (codigo_equipo_local, codigo_equipo_visitante, año_temporada, fecha, puntuacion_local, puntuacion_visitante) VALUES
(1, 2, 2021, '2021-05-01', 2, 0),
(2, 1, 2021, '2021-11-05', 1, 1),
(1, 3, 2021, '2021-09-01', 3, 2),
(3, 1, 2021, '2021-12-18', 2, 2),
(2, 3, 2021, '2021-08-14', 1, 3),
(3, 2, 2021, '2021-10-09', 0, 2),
(4, 5, 2021, '2021-03-27', 0, 1),
(5, 4, 2021, '2021-11-27', 2, 0),
(4, 6, 2021, '2021-05-22', 0, 3),
(6, 4, 2021, '2021-08-28', 2, 2),
(5, 6, 2021, '2021-10-30', 1, 1),
(6, 5, 2021, '2021-12-04', 3, 1),
(7, 8, 2021, '2021-02-20', 0, 1),
(8, 7, 2021, '2021-09-11', 2, 2),
(7, 9, 2021, '2021-06-19', 1, 3),
(9, 7, 2021, '2021-11-20', 0, 2),
(8, 9, 2021, '2021-10-02', 1, 1),
(9, 8, 2021, '2021-12-11', 1, 0),
(10, 11, 2021, '2021-04-10', 2, 1),
(11, 10, 2021, '2021-11-06', 0, 0),
(10, 12, 2021, '2021-07-24', 1, 2),
(12, 10, 2021, '2021-11-13', 2, 2),
(11, 12, 2021, '2021-09-04', 1, 3),
(12, 11, 2021, '2021-12-18', 3, 0),
(13, 14, 2021, '2021-01-30', 2, 1),
(14, 13, 2021, '2021-10-2', 1, 1),
(15, 14, 2021, '2021-08-04', 1, 3),
(16, 15, 2021, '2021-02-18', 3, 0),
(17, 16, 2021, '2021-03-30', 2, 1),
(18, 17, 2021, '2021-05-23', 1, 1),
(15, 18, 2021, '2021-04-04', 1, 3),
(16, 14, 2021, '2021-02-18', 3, 0),
(17, 13, 2021, '2021-02-30', 2, 1),
(18, 16, 2021, '2021-11-23', 1, 1);
